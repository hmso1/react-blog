{"version":3,"sources":["contexts.js","utils.js","components/Header/Header.js","WebAPI.js","components/Pagination/Pagination.js","pages/HomePage/HomePage.js","pages/LoginPage/LoginPage.js","pages/BlogPost/BlogPost.js","pages/Register/Register.js","pages/AboutMe/AboutMe.js","pages/AddPost/AddPost.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["AuthContext","createContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","HeaderContainer","styled","div","Brand","NavbarList","Nav","Link","props","$active","LeftContainer","Header","location","useLocation","useContext","user","setUser","isGettingUser","to","pathname","onClick","BASE_URL","getMe","fetch","headers","authorization","then","resp","json","PageButtonContainer","Button","button","PageBreak","p","PageButton","page","setCurrentPage","Pagination","currentPage","numberOfPosts","pages","push","Math","ceil","map","index","Root","PostsContainer","PostContainer","PostTitle","PostDate","Post","post","id","title","length","slice","Date","createdAt","toLocaleString","HomePage","useState","posts","setPosts","setNumberOfPosts","useEffect","postsAmount","get","postsContent","console","log","ErrorMessage","FormContainer","form","InputContainer","InputTitle","span","InputBox","input","SubmitButton","LoginPage","username","setUsername","password","setPassword","errorMessage","setErrorMessage","history","useHistory","onSubmit","e","preventDefault","method","body","JSON","stringify","login","data","ok","message","response","toString","value","onChange","target","type","PostHeader","h1","PostBody","BackToHome","BlogPost","setPost","useParams","getPost","Register","nickname","setNickname","confirmedPassword","setConfirmedPassword","register","FunctionList","ol","Item","li","AboutMe","TextArea","textarea","AddPost","setTitle","setBody","addPost","code","App","setIsGettingUser","Provider","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a4ad2d7.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\n","const TOKEN_NAME = \"token\";\n\nexport const setAuthToken = (token) => localStorage.setItem(TOKEN_NAME, token);\n\nexport const getAuthToken = () => localStorage.getItem(TOKEN_NAME);\n","import styled from \"styled-components\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { setAuthToken } from \"../../utils\";\r\n\r\nconst HeaderContainer = styled.div`\r\n  height: 64px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n  padding: 0px 32px;\r\n  box-sizing: border-box;\r\n  background-color: white;\r\n`;\r\n\r\nconst Brand = styled.div`\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst NavbarList = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst Nav = styled(Link)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 64px;\r\n  box-sizing: border-box;\r\n  width: 100px;\r\n  cursor: pointer;\r\n  color: black;\r\n  text-decoration: none;\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    background: rgba(0, 0, 0, 0.1);\r\n  `}\r\n`;\r\nconst LeftContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  ${NavbarList} {\r\n    margin-left: 64px;\r\n  }\r\n`;\r\n\r\nexport default function Header() {\r\n  const location = useLocation();\r\n  const { user, setUser, isGettingUser } = useContext(AuthContext);\r\n\r\n  const handleLogout = () => {\r\n    setAuthToken(\"\");\r\n    setUser(null);\r\n  };\r\n  return (\r\n    <HeaderContainer>\r\n      <LeftContainer>\r\n        <Brand>我的第一個部落格</Brand>\r\n        <NavbarList>\r\n          <Nav to=\"/\" $active={location.pathname === \"/\"}>\r\n            首頁\r\n          </Nav>\r\n          <Nav to=\"/about\" $active={location.pathname === \"/about\"}>\r\n            關於我們\r\n          </Nav>\r\n          {user && (\r\n            <Nav to=\"/new_post\" $active={location.pathname === \"/new_post\"}>\r\n              發佈文章\r\n            </Nav>\r\n          )}\r\n        </NavbarList>\r\n      </LeftContainer>\r\n      {!isGettingUser && (\r\n        <NavbarList>\r\n          {!user && (\r\n            <Nav to=\"/register\" $active={location.pathname === \"/register\"}>\r\n              註冊\r\n            </Nav>\r\n          )}\r\n          {!user && (\r\n            <Nav to=\"/login\" $active={location.pathname === \"/login\"}>\r\n              登入\r\n            </Nav>\r\n          )}\r\n          {user && (\r\n            <Nav to=\"/\" onClick={handleLogout}>\r\n              登出\r\n            </Nav>\r\n          )}\r\n        </NavbarList>\r\n      )}\r\n    </HeaderContainer>\r\n  );\r\n}\r\n","import { getAuthToken } from \"./utils\";\r\n\r\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\r\n\r\nexport const getPosts = (page) => {\r\n  return fetch(\r\n    `${BASE_URL}/posts?_sort=createdAt&_order=desc&_page=${page}&_limit=5`\r\n  ).then((resp) => {\r\n    const postsAmount = resp.headers.get(\"x-total-count\");\r\n    const postsContent = resp.json();\r\n    return { postsAmount, postsContent };\r\n  });\r\n};\r\n\r\nexport const getPost = (id) => {\r\n  return fetch(`${BASE_URL}/posts/${id}`).then((resp) => resp.json());\r\n};\r\n\r\nexport const login = (username, password) => {\r\n  return fetch(`${BASE_URL}/login`, {\r\n    method: \"POST\",\r\n    headers: { \"content-type\": \"application/json\" },\r\n    body: JSON.stringify({ username, password }),\r\n  }).then((resp) => resp.json());\r\n};\r\n\r\nexport const getMe = (token) => {\r\n  return fetch(`${BASE_URL}/me`, {\r\n    headers: { authorization: `Bearer ${token}` },\r\n  }).then((resp) => resp.json());\r\n};\r\n\r\nexport const register = (username, nickname, password) => {\r\n  return fetch(`${BASE_URL}/register`, {\r\n    method: \"POST\",\r\n    headers: { \"content-type\": \"application/json\" },\r\n    body: JSON.stringify({ username, nickname, password }),\r\n  }).then((resp) => resp.json());\r\n};\r\n\r\nexport const addPost = (title, body) => {\r\n  const token = getAuthToken();\r\n  console.log(title, body);\r\n  return fetch(`${BASE_URL}/posts`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      authorization: `Bearer ${token}`,\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ title: title, body: body }),\r\n  }).then((resp) => resp.json());\r\n};\r\n","import styled from \"styled-components\";\n\nconst PageButtonContainer = styled.div`\n  margin-top: 50px;\n  text-align: center;\n`;\n\nconst Button = styled.button`\n  width: 80px;\n  font-size: 20px;\n  padding: 5px 0;\n  background-color: white;\n  border: 1px solid black;\n  border-radius: 5px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #000a;\n    color: #fff;\n  }\n\n  & + & {\n    margin-left: 10px;\n  }\n`;\n\nconst PageBreak = styled.p`\n  display: inline-block;\n  font-size: 20px;\n  padding: 0 20px;\n`;\n\nfunction PageButton({ page, setCurrentPage }) {\n  const handleOnClick = () => {\n    setCurrentPage(page);\n  };\n  return <Button onClick={handleOnClick}>{`第 ${page} 頁`}</Button>;\n}\n\nexport default function Pagination({\n  currentPage,\n  numberOfPosts,\n  setCurrentPage,\n}) {\n  const pages = [1];\n\n  if (currentPage === 1) {\n    pages.push(currentPage + 1, \"space\");\n  } else if (currentPage === 2) {\n    pages.push(currentPage, currentPage + 1, \"space\");\n  } else {\n    pages.push(\"space\", currentPage - 1, currentPage, currentPage + 1, \"space\");\n  }\n\n  pages.push(Math.ceil(numberOfPosts / 5));\n\n  return (\n    <PageButtonContainer>\n      {pages.map((page, index) => {\n        if (page === \"space\") return <PageBreak>...</PageBreak>;\n        return (\n          <PageButton key={index} page={page} setCurrentPage={setCurrentPage} />\n        );\n      })}\n    </PageButtonContainer>\n  );\n}\n","import { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getPosts } from \"../../WebAPI\";\r\nimport Pagination from \"../../components/Pagination\";\r\n\r\nconst Root = styled.div`\r\n  width: 50%;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst PostsContainer = styled.div`\r\n  height: 325px;\r\n`;\r\n\r\nconst PostContainer = styled.div`\r\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\r\n  padding: 16px;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst PostTitle = styled(Link)`\r\n  font-size: 24px;\r\n  color: #333;\r\n  text-decoration: none;\r\n`;\r\n\r\nconst PostDate = styled.div`\r\n  color: rgba(0, 0, 0, 0.8);\r\n`;\r\n\r\nfunction Post({ post }) {\r\n  return (\r\n    <PostContainer>\r\n      <PostTitle to={`/posts/${post.id}`}>\r\n        {post.title.length > 70 ? post.title.slice(0, 70) + \"...\" : post.title}\r\n      </PostTitle>\r\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\r\n    </PostContainer>\r\n  );\r\n}\r\n\r\nexport default function HomePage() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [numberOfPosts, setNumberOfPosts] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    getPosts(currentPage)\r\n      .then(({ postsAmount, postsContent }) => {\r\n        setNumberOfPosts(postsAmount);\r\n        return postsContent;\r\n      })\r\n      .then((posts) => setPosts(posts));\r\n  }, [currentPage]);\r\n  console.log(currentPage);\r\n\r\n  return (\r\n    <Root>\r\n      <PostsContainer>\r\n        {posts.map((post) => {\r\n          return <Post key={post.id} post={post} />;\r\n        })}\r\n      </PostsContainer>\r\n\r\n      <Pagination\r\n        currentPage={currentPage}\r\n        numberOfPosts={numberOfPosts}\r\n        setCurrentPage={setCurrentPage}\r\n      />\r\n    </Root>\r\n  );\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport { login, getMe } from \"../../WebAPI\";\r\nimport styled from \"styled-components\";\r\nimport { setAuthToken } from \"../../utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts\";\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n`;\r\n\r\nconst FormContainer = styled.form`\r\n  text-align: center;\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst InputTitle = styled.span`\r\n  display: inline-block;\r\n  width: 100px;\r\n  font-size: 20px;\r\n  margin-right: 10px;\r\n  text-align: end;\r\n`;\r\n\r\nconst InputBox = styled.input`\r\n  height: 20px;\r\n`;\r\n\r\nconst SubmitButton = styled.button`\r\n  margin-top: 20px;\r\n  width: 80px;\r\n  height: 40px;\r\n  font-size: 20px;\r\n  background-color: white;\r\n  border: 1px solid #0008;\r\n  border-radius: 10px;\r\n\r\n  &:hover {\r\n    background-color: #0008;\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nexport default function LoginPage() {\r\n  const { setUser } = useContext(AuthContext);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setErrorMessage(null);\r\n\r\n    if (!username || !password)\r\n      return setErrorMessage(\"請填寫 Username 和 Password\");\r\n\r\n    login(username, password).then((data) => {\r\n      if (data.ok === 0) {\r\n        return setErrorMessage(data.message);\r\n      }\r\n      setAuthToken(data.token);\r\n      getMe(data.token).then((response) => {\r\n        if (response.ok !== 1) {\r\n          setAuthToken(null);\r\n          return setErrorMessage(response.message.toString());\r\n        }\r\n\r\n        setUser(response.data);\r\n        history.push(\"/\");\r\n      });\r\n    });\r\n  };\r\n  return (\r\n    <FormContainer onSubmit={handleSubmit}>\r\n      <InputContainer>\r\n        <InputTitle>Username：</InputTitle>\r\n        <InputBox\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n      </InputContainer>\r\n      <InputContainer>\r\n        <InputTitle>Password:</InputTitle>\r\n        <InputBox\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n      </InputContainer>\r\n      <SubmitButton>登入</SubmitButton>\r\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n    </FormContainer>\r\n  );\r\n}\r\n","import { useParams, Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { getPost } from \"../../WebAPI\";\n\nconst Root = styled.div`\n  width: 50%;\n  margin: 0 auto;\n`;\n\nconst PostContainer = styled.div``;\n\nconst PostHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid #0005;\n`;\n\nconst PostTitle = styled.h1`\n  font-size: 20px;\n  width: 75%;\n  word-break: break-all;\n`;\n\nconst PostDate = styled.div`\n  margin: auto 0;\n`;\n\nconst PostBody = styled.div`\n  padding-top: 20px;\n  word-break: break-all;\n`;\n\nfunction Post({ post }) {\n  return (\n    <PostContainer>\n      <PostHeader>\n        <PostTitle>{post.title}</PostTitle>\n        <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n      </PostHeader>\n      <PostBody>{post.body}</PostBody>\n    </PostContainer>\n  );\n}\n\nconst BackToHome = styled(Link)`\n  display: block;\n  color: #222;\n  padding-top: 20px;\n  text-decoration: none;\n\n  &:hover {\n    color: pink;\n  }\n`;\n\nexport default function BlogPost() {\n  const [post, setPost] = useState([]);\n  let { id } = useParams();\n\n  useEffect(() => {\n    getPost(id).then((post) => setPost(post));\n  }, [id]);\n  console.log(post);\n  return (\n    <Root>\n      <Post post={post} />\n      <BackToHome to=\"/\">{\"<- 返回首頁\"}</BackToHome>\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState, useContext } from \"react\";\n\nimport { register, getMe } from \"../../WebAPI\";\nimport { setAuthToken } from \"../../utils\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts\";\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n\nconst FormContainer = styled.form`\n  text-align: center;\n`;\n\nconst InputContainer = styled.div`\n  margin-top: 20px;\n`;\n\nconst InputTitle = styled.span`\n  display: inline-block;\n  width: 180px;\n  font-size: 20px;\n  margin-right: 10px;\n  text-align: end;\n`;\n\nconst InputBox = styled.input`\n  height: 20px;\n`;\n\nconst SubmitButton = styled.button`\n  margin-top: 20px;\n  width: 80px;\n  height: 40px;\n  font-size: 20px;\n  background-color: white;\n  border: 1px solid #0008;\n  border-radius: 10px;\n\n  &:hover {\n    background-color: #0008;\n    color: #fff;\n  }\n`;\n\nexport default function Register() {\n  const [username, setUsername] = useState(\"\");\n  const [nickname, setNickname] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmedPassword, setConfirmedPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const { setUser } = useContext(AuthContext);\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrorMessage(null);\n\n    if (!username || !nickname || !password || !confirmedPassword)\n      return setErrorMessage(\"請填寫所有欄位\");\n\n    if (password !== confirmedPassword) return setErrorMessage(\"輪入密碼不同\");\n    if (username === nickname)\n      return setErrorMessage(\"Username 和 Nickname 不可以一樣\");\n\n    register(username, nickname, password).then((data) => {\n      console.log(data);\n      if (data.ok !== 1) {\n        return setErrorMessage(data.message.toString());\n      }\n      setAuthToken(data.token);\n      getMe(data.token).then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken(null);\n          return setErrorMessage(response.message.toString());\n        }\n\n        setUser(response.data);\n        history.push(\"/\");\n      });\n    });\n  };\n\n  return (\n    <FormContainer onSubmit={handleSubmit}>\n      <InputContainer>\n        <InputTitle>Username：</InputTitle>\n        <InputBox\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n      </InputContainer>\n      <InputContainer>\n        <InputTitle>Nickname</InputTitle>\n        <InputBox\n          value={nickname}\n          onChange={(e) => setNickname(e.target.value)}\n        />\n      </InputContainer>\n      <InputContainer>\n        <InputTitle>Password:</InputTitle>\n        <InputBox\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </InputContainer>\n      <InputContainer>\n        <InputTitle>Confirm Password:</InputTitle>\n        <InputBox\n          type=\"password\"\n          value={confirmedPassword}\n          onChange={(e) => setConfirmedPassword(e.target.value)}\n        />\n      </InputContainer>\n      <SubmitButton>註冊</SubmitButton>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n    </FormContainer>\n  );\n}\n","import styled from \"styled-components\";\nconst Root = styled.p`\n  width: 50%;\n  margin: 30px auto;\n  font-size: 20px;\n`;\n\nconst FunctionList = styled.ol``;\n\nconst Item = styled.li`\n  & + & {\n    margin-top: 15px;\n  }\n`;\n\nexport default function AboutMe() {\n  return (\n    <Root>\n      <p>\n        這是一個 Lidemy Mentor Program 的功課。過程中會用到 React 來實作 Blog\n        的基本功能，包括：\n      </p>\n      <FunctionList>\n        <Item>登入頁面：以 JWT 來做登入驗證</Item>\n        <Item>註冊頁面：成功後會驗證 JWT 並返回首頁</Item>\n        <Item>文章列表頁面：每頁只顯示 5 筆文章，提供分頁功能</Item>\n        <Item>單篇文章頁面：可以看到文章完整內容</Item>\n        <Item>發表文章頁面：登入後，可以輸入標題跟內文發文</Item>\n      </FunctionList>\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { addPost } from \"../../WebAPI\";\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n\nconst FormContainer = styled.form`\n  width: 50%;\n  margin: 0 auto;\n`;\n\nconst InputContainer = styled.div`\n  margin-top: 20px;\n`;\n\nconst InputTitle = styled.span`\n  display: inline-block;\n  font-size: 20px;\n  margin: 0 10px 5px 0;\n  text-align: end;\n`;\n\nconst InputBox = styled.input`\n  width: 100%;\n  font-size: 20px;\n  display: block;\n  padding: 5px 10px;\n  box-sizing: border-box;\n`;\n\nconst TextArea = styled.textarea`\n  display: block;\n  width: 100%;\n  height: 300px;\n  font-size: 20px;\n  padding: 10px 10px;\n  box-sizing: border-box;\n`;\n\nconst SubmitButton = styled.button`\n  margin-top: 20px;\n  width: 80px;\n  height: 40px;\n  font-size: 20px;\n  background-color: white;\n  border: 1px solid #0008;\n  border-radius: 10px;\n  display: block;\n  margin-left: auto;\n\n  &:hover {\n    background-color: #0008;\n    color: #fff;\n  }\n`;\n\nexport default function AddPost() {\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const history = useHistory();\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    setErrorMessage(null);\n\n    if (!title || !body) {\n      setErrorMessage(\"請填寫標題和內容\");\n    }\n\n    addPost(title, body).then((response) => {\n      if (response.code) {\n        setErrorMessage(response.message.toString());\n      }\n      history.push(\"/\");\n    });\n  };\n  return (\n    <FormContainer onSubmit={handleOnSubmit}>\n      <InputContainer>\n        <InputTitle>標題：</InputTitle>\n        <InputBox value={title} onChange={(e) => setTitle(e.target.value)} />\n      </InputContainer>\n      <InputContainer>\n        <InputTitle>內容：</InputTitle>\n        <TextArea value={body} onChange={(e) => setBody(e.target.value)} />\n      </InputContainer>\n\n      <SubmitButton>確定</SubmitButton>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n    </FormContainer>\n  );\n}\n","import \"./App.css\";\r\nimport styled from \"styled-components\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Header from \"../Header\";\r\nimport HomePage from \"../../pages/HomePage\";\r\nimport LoginPage from \"../../pages/LoginPage\";\r\nimport BlogPost from \"../../pages/BlogPost\";\r\nimport Register from \"../../pages/Register\";\r\nimport AboutMe from \"../../pages/AboutMe\";\r\nimport AddPost from \"../../pages/AddPost\";\r\n\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { getMe } from \"../../WebAPI\";\r\nimport { getAuthToken, setAuthToken } from \"../../utils\";\r\n\r\nconst Root = styled.div`\r\n  padding-top: 60px;\r\n`;\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [isGettingUser, setIsGettingUser] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // 有 token 先 call api\r\n    const token = getAuthToken();\r\n    if (token === \"\") return setIsGettingUser(false);\r\n\r\n    getMe(token).then((response) => {\r\n      if (response.ok === 1) {\r\n        setUser(response.data);\r\n      } else {\r\n        setAuthToken(\"\");\r\n        setUser(null);\r\n      }\r\n      setIsGettingUser(false);\r\n    });\r\n  }, []);\r\n  return (\r\n    <AuthContext.Provider value={{ user, setUser, isGettingUser }}>\r\n      <Root>\r\n        <Router>\r\n          <Header />\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <HomePage />\r\n            </Route>\r\n            <Route exact path=\"/login\">\r\n              <LoginPage />\r\n            </Route>\r\n            <Route exact path=\"/posts/:id\">\r\n              <BlogPost />\r\n            </Route>\r\n            <Route exact path=\"/register\">\r\n              <Register />\r\n            </Route>\r\n            <Route exact path=\"/about\">\r\n              <AboutMe />\r\n            </Route>\r\n            <Route exact path=\"/new_post\">\r\n              <AddPost />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </Root>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}